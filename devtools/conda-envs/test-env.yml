name: test-env
channels:
    - conda-forge
    - openeye
dependencies:
    # Basic Python dependencies
    - python=3.11.0
    - pip

    # Unit testing
    - pytest
    - pytest-cov

    # Numerical libraries
    - numpy
    - pandas
    - networkx
    - anytree

    # Molecule building
    - rdkit
    - mbuild
    - openbabel
    - packmol<=20.15.1 # DEVNOTE: have no idea why, but versions tested later than this release (at least 20.16.1 and 21.0.4) introduce PDB CONECT errors where there were previously none
    - openeye-toolkits # TODO: consider making this optional?

    # MD engines
    - openmm
    # - lammps # NOTE: this grinds the conda/libmamba env solver to a halt, so we install it via pip instead
    - mdtraj
    - pint # for units in case OpenFF is not installed

    # OpenFF stack
    - openff-toolkit>=0.16
    - openff-interchange>=0.4
    - openff-nagl>=0.5
    - openff-nagl-models>=0.3

    # Espaloma
    - espaloma_charge>=0.0.8

    # Chemical database queries
    - cirpy
    - pubchempy

    # pip installs
    - pip:
        - lammps>=2024 # NOTE: see above - conda version of lammps exists, but makes env solve prohibitively slow